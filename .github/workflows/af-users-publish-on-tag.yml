name: UserService - Build & Publish on Version Tag

on:
  push:
    tags:
      - 'v*'
    paths:
      - "HsR.UserService/**"
  workflow_dispatch:

jobs:
  build-and-publish:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4
        
      - name: Run Dotnet Build & Publish Action
        uses: ./.github/actions/reusable-publish-dotnet
        with:
          project-path: ./HsR.UserService/HsR.UserService.Host
          image-name: userservice-backend
          github-token: ${{ secrets.GITHUB_TOKEN }}
