name: Build & Test Javascript projects

on:
  push:
    paths:
      - "AssetsFlow.Client.React/**"
  workflow_dispatch:

jobs:
  build-all:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        project-path:
          - "AssetsFlow.Client.React"

    steps:
      - name: Build & Test using reusable action
        uses: ./.github/workflows/jsts-build-common.yml
        with:
          project-path: ${{ matrix.project-path }}
          
      - name: Smoke test
        run: cd ${{ matrix.project-path }} && node dist/app.js